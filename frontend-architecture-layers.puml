@startuml frontend-architecture-layers
!theme plain

title Arquitectura de 3 Capas - Frontend Distribuidora Paucara

package "üé® PRESENTATION LAYER" as presentation {
    [Pages/Components] as pages
    [Custom Hooks] as hooks  
    [UI State Management] as state
    [Forms & Events] as forms
}

package "üéØ APPLICATION LAYER" as application {
    [Use Cases] as usecases
    [Business Logic] as business
    [DTOs & Validation] as dto
    [Orchestration] as orchestration
}

package "üèóÔ∏è INFRASTRUCTURE LAYER" as infrastructure {
    [API Services] as services
    [HTTP Clients] as http
    [Data Transformation] as transform
    [External APIs] as apis
}

package "üéØ DOMAIN LAYER" as domain {
    [Entities/Types] as entities
    [Contracts/Interfaces] as contracts
    [Business Rules] as rules
    [Value Objects] as values
}

' Flujo principal de comunicaci√≥n
pages --> hooks : "User Events"
hooks --> usecases : "Business Operations"  
usecases --> services : "Data Requests"
services --> apis : "HTTP Calls"

' Dependencias de tipos y contratos
contracts ..> services : "implements"
entities ..> pages : "type definitions"
entities ..> usecases : "type definitions"
entities ..> services : "type definitions"

' Flujo de respuesta
apis --> services : "Raw Data"
services --> usecases : "Domain Objects"
usecases --> hooks : "Processed Data"
hooks --> pages : "UI State Updates"

' Componentes internos
forms --> hooks
state --> pages
business --> usecases
dto --> usecases
orchestration --> usecases
transform --> services
http --> services

note right of domain
  **Capa de Dominio**
  - Define contratos e interfaces
  - Tipos de entidades de negocio
  - Reglas de dominio fundamentales  
  - NO depende de otras capas
end note

note left of presentation
  **Capa de Presentaci√≥n**
  - Maneja UI y eventos de usuario
  - Custom hooks para l√≥gica de UI
  - Estado local de componentes
  - Formularios y validaciones de UI
end note

note top of application
  **Capa de Aplicaci√≥n**
  - Casos de uso espec√≠ficos
  - Orquestaci√≥n de operaciones
  - Validaciones de negocio
  - Transformaci√≥n de datos
end note

note bottom of infrastructure
  **Capa de Infraestructura**
  - Comunicaci√≥n con APIs externas
  - Transformaci√≥n HTTP ‚Üî Dominio
  - Persistencia y cach√©
  - Servicios de terceros
end note

@enduml